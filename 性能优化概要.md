## 0x1 使用profile

程序运行的时间90%花费在10%的代码上，有效的使用profile可以很好的帮助解决这些问题。使用100小时在这10%的代码上进行优化，也比花100小时在90%的代码上优化效益高得多。使用profile看到函数的调用层次，调用次数，以及每条代码的时间分解表（甚至可以到汇编级）。而不是把时间花费在错误的，无用的方向上去优化。注意两点：

* 花费时间多的函数需要优化其算法
* 调用次数巨多的函数——如果一个函数每秒被调用300K次，那么只需要优化0.001ms，那也是相当巨大的优化，这就是所谓10%的代码占用90%的CPU耗时